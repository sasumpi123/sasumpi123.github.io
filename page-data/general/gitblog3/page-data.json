{"componentChunkName":"component---src-templates-blog-post-js","path":"/general/gitblog3/","result":{"data":{"site":{"siteMetadata":{"title":"MuriMuri's Dev Note","author":"MuriMuri","siteUrl":"https://sasumpi123.github.io","comment":{"disqusShortName":"","utterances":"sasumpi123/sasumpi123.github.io"},"sponsor":{"buyMeACoffeeId":"sasumpi123"}}},"markdownRemark":{"id":"e5060332-9d19-5708-9de2-90f6fea166d8","excerpt":"To-Do List 정적 사이트 생성기 선택하기() 선택한 정적 사이트 생성기에서 원하는 theme 다운받기  생성하기 Local 환경에서 Test…","html":"<h2 id=\"to-do-list\" style=\"position:relative;\"><a href=\"#to-do-list\" aria-label=\"to do list permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>To-Do List</h2>\n<ol>\n<li><a href=\"https://sasumpi123.github.io/general/gitblog1/\">정적 사이트 생성기 선택하기(<code class=\"language-text\">Gatsby</code>)</a></li>\n<li><a href=\"https://sasumpi123.github.io/general/gitblog1/\">선택한 정적 사이트 생성기에서 원하는 theme 다운받기</a></li>\n<li><a href=\"https://sasumpi123.github.io/general/gitblog2/\"><code class=\"language-text\">Git Repository</code> 생성하기</a></li>\n<li><a href=\"https://sasumpi123.github.io/general/gitblog2/\">Local 환경에서 Test 해보기</a></li>\n<li><a href=\"https://sasumpi123.github.io/general/gitblog3/\"><code class=\"language-text\">Github Action</code>으로  블로그 배포 자동화하기</a></li>\n</ol>\n<hr>\n<p>이전단계까지 문제없이 진행했다면 글을 작성하고 마스터에 <code class=\"language-text\">Push</code> 하면<br>\n자신의 <code class=\"language-text\">Url</code>에 해당 글들이 업로드되는걸 확인 할 수 있다.</p>\n<p>필자는 글을 작성할 새로운 브랜치를 생성하여 해당 브랜치에 <code class=\"language-text\">Push</code>하면<br>\n자동으로 <code class=\"language-text\">Master</code> 에 자동으로 머지되어 배포되게끔 하고싶었다.<br>\n해당내용을 토대로 검색을 하던 도중 딱 내게 맞는 <a href=\"https://alstn2468.github.io/Automation/2020-01-24-GatsbyGithubAction/\">포스트</a>를 발견하여\n해당글을 참고하여 포스팅하려한다.</p>\n<p>먼저 배포 자동화를 진행하려면 <code class=\"language-text\">GitHub Action</code> 을 알아야한다.</p>\n<h2 id=\"github-action\" style=\"position:relative;\"><a href=\"#github-action\" aria-label=\"github action permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GitHub Action</h2>\n<p>깃허브 저장소 내에서 코드 프로젝트를 <code class=\"language-text\">빌드</code>, <code class=\"language-text\">테스트</code>, <code class=\"language-text\">패키지</code>, <code class=\"language-text\">릴리스</code> 또는 <code class=\"language-text\">배포</code>하기 위해 설정할 수있는 사용자 지정 자동화 프로세스이다.   </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># This is a basic workflow to help you get started with Actions\n\nname: CI\n\n# Controls when the action will run. Triggers the workflow on push or pull request\n# events but only for the master branch\non:\n  push:\n    branches: [ master ]\n  pull_request:\n    branches: [ master ]\n\n# A workflow run is made up of one or more jobs that can run sequentially or in parallel\njobs:\n  # This workflow contains a single job called &quot;build&quot;\n  build:\n    # The type of runner that the job will run on\n    runs-on: ubuntu-latest\n\n    # Steps represent a sequence of tasks that will be executed as part of the job\n    steps:\n    # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it\n    - uses: actions/checkout@v2\n\n    # Runs a single command using the runners shell\n    - name: Run a one-line script\n      run: echo Hello, world!\n\n    # Runs a set of commands using the runners shell\n    - name: Run a multi-line script\n      run: |\n        echo Add other actions to build,\n        echo test, and deploy your project.</code></pre></div>\n<p>위 내용은 <code class=\"language-text\">GitHub Action</code> 을 정의하는 코드들이다.<br>\n가장 처음에 Set up a workflow yourself 버튼을 클릭하면<br>\n자동으로 생성되는 코드들이다.</p>\n<p>먼저 <code class=\"language-text\">GitHub Action</code>을 사용하여 내 <code class=\"language-text\">Repository</code>에 접근하기 위해<br>\n<code class=\"language-text\">Token</code>을 생성하여 적용시켜주어야 한다.</p>\n<p><a href=\"https://github.com/settings/tokens\">토큰생성하기!!</a><br>\n해당 링크로 들어가면<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABMUlEQVQoz6WS2U7DMBBF88VFFEqhaqtULJ+KCtka2/EW25cZu60A8Uako4w9+5Wr+8cdtvULNrsa680e9fMb9odXPG1rLJYPuCEWt6uf8P3dmij+HLNcZao5AcpGWGthncN/v0q7gE4FxFQuDBVumgZt2+J4/IAQEn6e4aiZdR5uDpjp3HYDuuEENUroUSDGmKmUlHj/HNAPA4wxCCFCKA05aUyTgtb8n7ItJwtpSmJKKcN2COF6rmLgjh7e++wIFNCMDr200NbRdDHjiJkTyc9bKEVNqJlWCkaqvF0u+FsDLqqkwCgUOmHQjxq90GhPGqMyefXv8CDcqBQkDXlk1oQnCyQkw3qm9LfopEiGY4pdctI5oWLBWTsW2/gE7eKVSyDHxLNGE72IiXzGFy72peAX+yhVR78trOkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"createToken\"\n        title=\"createToken\"\n        src=\"/static/18e9faea0ae17f3613599a479f79285e/c1b63/createToken.png\"\n        srcset=\"/static/18e9faea0ae17f3613599a479f79285e/5a46d/createToken.png 300w,\n/static/18e9faea0ae17f3613599a479f79285e/0a47e/createToken.png 600w,\n/static/18e9faea0ae17f3613599a479f79285e/c1b63/createToken.png 1200w,\n/static/18e9faea0ae17f3613599a479f79285e/d61c2/createToken.png 1800w,\n/static/18e9faea0ae17f3613599a479f79285e/0f96c/createToken.png 2248w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n위와 같은 화면이 나온다.<br>\n여기서 <code class=\"language-text\">Generate new token</code> 버튼을 누르면 <code class=\"language-text\">Token</code> 생성하는 화면이 나올것이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABbklEQVQoz62SjY6rIBCFff+H3Ha31p+2ioAgqHj2DNbkpkl7c5NL8mWGqXMKhylO529cypJccbmU+Hkiedo2/Mva+H3R9wpKDRiGAVobqBw1NKMbR3jvdpzDNPkd7zHyt5E1RyzzEEIWLa5VhbpuUDcNqqpmXqNsFc6NxU9rcBFuBt+NZrT4qjVK7q21FN3FJI8x7oLG2Jysa8KyLDvM53VjJGlH9iyDgVZ8uLLzE/wUSUCclyfzC6zFGSmlozU3v5JP+Oh6iI/S8D9W8XU64XQ+54cYBqKf8FF6G9C7hMEnKLeis0uOKX04oQgd3gUaG0KkyWMW1daRCd0wwriAMCdMMeVx2t5QSHPb3vLIHB6J2P3RkQft6BE5Euu6/HUGs6A8t4xN07ScN5+L2hiItx29lXiMxJ9XeysoA3m9VtlDWXJKRS/v9y6Ltbd7/oPXxrdX7pVCxRM+eMWjKDao/EAGhkOb/WQu+3lZPgr/AsniprlP+rY6AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"createToken2\"\n        title=\"createToken2\"\n        src=\"/static/21f646a8c4fc173c0da053192bf72dae/c1b63/createToken2.png\"\n        srcset=\"/static/21f646a8c4fc173c0da053192bf72dae/5a46d/createToken2.png 300w,\n/static/21f646a8c4fc173c0da053192bf72dae/0a47e/createToken2.png 600w,\n/static/21f646a8c4fc173c0da053192bf72dae/c1b63/createToken2.png 1200w,\n/static/21f646a8c4fc173c0da053192bf72dae/2b608/createToken2.png 1540w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n여기서 <code class=\"language-text\">Note</code> 부분에 자신이 정하고싶은 이름을 적어주면되고<br>\n<code class=\"language-text\">scopes</code>는 <code class=\"language-text\">repo</code> 모든박스들을 체크해주면 된다.<br>\n아래에 추가적으로 다양한 권한을 부여할수있지만 필자는 <code class=\"language-text\">Repository</code> 에 관련된\n권한만 추가하였다.<br>\n위 작업을 끝낸뒤 아래로 내려가 create 버튼을 누르면\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABgUlEQVQoz3WR3W7UMBCF8569QC13PAYvgVS44Q14DUorJK6o+rPNbv5txz+xnaw3yWHWCRFUMNKXM/EoJ8mcZJ5nvGY6M73ij/nvOrfxDNhmSVFWaBiPVHUDIVr8uxYj3w/Iyho5UTYcVhnovMLg+zhPWsGgZAvZcnDWRLWdRmd0VGsUVNdDujF+6dl4Gk+YibPSBTgFOp7iK5ODcCikQ9baSN5SL+xf7MUR+zYgVwGVPqEyY0R4gDuAES4sf5DcPM/4tkPkdtWb54WvT8BdCvzIPL6nFncvXeR2R0o88AmPYsZPQrhpMXzavUexv0CWvsUhvcTh5XLVK+T7N7i/f4dMlnCjgQkK3Ulv6CChHa2rKjCEdYdp9gV58QF19RGsvqY9fgJvFgS7Rll8hu4VhtHDBws7GHQr9tjBegPFGY5hWAybbtmDp/tpwv9rRgzFux7O+U2PlLqltMdxXFOmVGXLUAuJSmhCoWASJVeEpJ5SNo4edrB2wXu/qSP8MGyGvwCz7au74rWndAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"createToken3\"\n        title=\"createToken3\"\n        src=\"/static/ad1b142cad030d0533c2295ce9a9583c/c1b63/createToken3.png\"\n        srcset=\"/static/ad1b142cad030d0533c2295ce9a9583c/5a46d/createToken3.png 300w,\n/static/ad1b142cad030d0533c2295ce9a9583c/0a47e/createToken3.png 600w,\n/static/ad1b142cad030d0533c2295ce9a9583c/c1b63/createToken3.png 1200w,\n/static/ad1b142cad030d0533c2295ce9a9583c/7575b/createToken3.png 1608w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n노란 박스안에 자신이 사용할 키가 생성된다.\n위 키를 복사해놓자!</p>\n<p>이제 생성한 <code class=\"language-text\">Token</code>을 적용해보자<br>\n자신의 <code class=\"language-text\">Repository</code>에서 <code class=\"language-text\">Settings</code> -> <code class=\"language-text\">Secrets</code> 탭으로 들어간 후<br>\n새로운 키를 생성해주면 된다.<br>\nName 부분에 자신이 사용할 이름을 적어주면되고,<br>\n아까 복사해둔 <code class=\"language-text\">Token</code> 값들을 <code class=\"language-text\">Value</code>부분에 넣어주면된다.<br>\n필자는 <code class=\"language-text\">GITHUB</code> 이라는 이름으로 생성하였다.</p>\n<p>이젠 Workflow를 생성해 주면 된다. 자신의 <code class=\"language-text\">Repository</code>에서 <code class=\"language-text\">Action</code> 버튼을 눌러보자<br>\n왼쪽 상단에서 <code class=\"language-text\">New workflow</code> 버튼을 눌러주면 다양한 예제들을 확인 할 수 있다.<br>\n이 페이지에서 오른쪽 상단에 skip this : 하고 set up a workflow yourself 버튼을 눌러<br>\n우리가 새용할 Action을 정의하면된다.</p>\n<p>처음 화면에 아까 필자가 위에 적어둔 코드들이 보일것이다.<br>\n해당 내용들을</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">on:\n  push:\n    branches:\n      - gh-pages\nname: build gatsby\njobs:\n  build_gatsby:\n    name: build\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v1\n\n      - name: yarn install\n        run: yarn install\n\n      - name: gatsby build\n        env:\n          GH_API_KEY: ${{ secrets.GITHUB }}\n        run: yarn build\n\n      - name: deploy\n        uses: maxheld83/ghpages@v0.2.1\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          GH_PAT: ${{ secrets.GITHUB }}\n          BUILD_DIR: &#39;public/&#39;</code></pre></div>\n<p>로 바꿔준다.<br>\n이떄 <code class=\"language-text\">braches</code> 는 자신이 글을 작성하는 브랜치 이름으로 해준 후<br>\n<code class=\"language-text\">Start commit</code> 버튼을 누른후 <code class=\"language-text\">Commit</code> 메세지를 입력후 <code class=\"language-text\">Push</code>하면 된다.\n이제 해당 내용을 자신의 로컬폴더로 <code class=\"language-text\">Pull</code> 받는다.</p>\n<p>마지막으로 자신의 <code class=\"language-text\">package.json</code> 파일에서 제일 마지막 scripts 부분에</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&quot;deploy&quot;: &quot;gatsby build &amp;&amp; 작업하는브랜치이름 -d public -b master&quot;</code></pre></div>\n<p>위 내용을 추가해주면 된다. 필자의 브랜치이름은 <code class=\"language-text\">gh-pages</code>이기때문에</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&quot;deploy&quot;: &quot;gatsby build &amp;&amp; gh-pages -d public -b master&quot;</code></pre></div>\n<p>위 내용을 추가해주었다.\n모든 작업을 마무리하고 새로만든 브랜치에서 파일들을 <code class=\"language-text\">Push</code>한후<br>\n자신의 <code class=\"language-text\">Repository</code>에서 <code class=\"language-text\">Action</code> 탭을 확인해보면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAp0lEQVQY042Q3Q7CIAyFef831MQbMcZtbsyNvwLjWDAa0Qs9yZfSpiXtEUcpUXDOoSjn/BeP3m+E5Y+0MaAQsG1bQ3ontbTKL4S2nrcjGI6eAlZtYTkv0ftQa78girxQ5HeEUEpBzQuG64T5tlRKg7EOIaba+MRTbPIK18pCFU8Q3eWE3f5QfZTyhK7v2QJbbVhXXU8vMpRxnhM+r00p8cyAcZwQ2LY7SNOGq75rQXAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"upload\"\n        title=\"upload\"\n        src=\"/static/71463a9e86532429bd070e51bf57adb8/c1b63/upload.png\"\n        srcset=\"/static/71463a9e86532429bd070e51bf57adb8/5a46d/upload.png 300w,\n/static/71463a9e86532429bd070e51bf57adb8/0a47e/upload.png 600w,\n/static/71463a9e86532429bd070e51bf57adb8/c1b63/upload.png 1200w,\n/static/71463a9e86532429bd070e51bf57adb8/d61c2/upload.png 1800w,\n/static/71463a9e86532429bd070e51bf57adb8/912fc/upload.png 1934w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>위처럼 노란색 원이 돌고있을것이다. 이 원이 초록색 체크모양으로 변하면<br>\n작업한 브랜치에서 <code class=\"language-text\">Master</code>로 <code class=\"language-text\">Merge</code>가 성공적으로 끝난것이고<br>\n잠시후 자신의 블로그를 확인해보면<br>\n정상적으로 작성한 글들이 업로드 된 것을 확인할수있다.</p>\n<p>이젠 <code class=\"language-text\">MarkDown</code> 문법을 사용하여 글들을 작성하고 작업하는 브랜치에 <code class=\"language-text\">Push</code> 하면<br>\n블로그 글들을 자동 배포할수있다!</p>\n<h2 id=\"출처\" style=\"position:relative;\"><a href=\"#%EC%B6%9C%EC%B2%98\" aria-label=\"출처 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>출처</h2>\n<p><a href=\"https://alstn2468.github.io/Automation/2020-01-24-GatsbyGithubAction/\">Github Action으로 Gatsby 블로그 배포 자동화하기</a></p>","frontmatter":{"title":"Git 블로그 개설하기!(3)","date":"April 16, 2020","thumbnail":null}}},"pageContext":{"slug":"/general/gitblog3/","previous":{"fields":{"slug":"/general/gitblog2/"},"frontmatter":{"title":"Git 블로그 개설하기!(2)","category":"general","draft":false}},"next":{"fields":{"slug":"/general/gitblog4/"},"frontmatter":{"title":"블로그에 기능 추가하기!(Google Search Console)","category":"general","draft":false}}}}}